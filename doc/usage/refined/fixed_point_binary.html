

<!DOCTYPE html>
<html class="writer-html4" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Fixed Point Binary Functions &mdash; OKKernel  documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> OKKernel
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../abstract.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../abstract.html#history">History</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html">TPU Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html#memory-types">Memory Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture.html#heterogeneous-programming">Heterogeneous Programming</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../layout.html">Address of Tensor in Local Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layout.html#scatter-features-to-different-npus">Scatter Features to Different NPUs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layout.html#strides-in-local-memory">Strides in Local Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layout.html#strides-in-system-memory">Strides in System Memory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layout.html#layouts">Layouts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../layout.html#storage-modes">Storage Modes</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../refined.html">About Function Names</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refined.html#some-definitions">Some Definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refined.html#common-functions">Common Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refined.html#utils-functions">Utils Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refined.html#gdma-functions">GDMA Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refined.html#memory-functions">Memory Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refined.html#data-type-converting-functions">Data Type Converting Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refined.html#fp32-binary-functions">FP32 Binary Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refined.html#bit-binary-functions">32-Bit Binary Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refined.html#fp32-unary-functions">FP32 Unary Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refined.html#fp32-neural-network-functions">FP32 Neural Network Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refined.html#fixed-point-binary-functions">Fixed Point Binary Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../refined.html#fixed-point-unary-functions">Fixed Point Unary Functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../programming_device.html">Programming on Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../programming_host.html">Programming on Host</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../demo.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo.html#compilation-tools">Compilation Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo.html#header-files-and-libraries">Header Files and Libraries</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo.html#develop">Develop</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo.html#compile-and-update-firmware">Compile and Update Firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../demo.html#execute">Execute</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">OKKernel</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Fixed Point Binary Functions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/usage/refined/fixed_point_binary.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="fixed-point-binary-functions">
<h1>Fixed Point Binary Functions<a class="headerlink" href="#fixed-point-binary-functions" title="Permalink to this headline">¶</a></h1>
<div class="section" id="okk-bdc-fixed-point-packed-add">
<h2>okk_bdc_fixed_point_packed_add<a class="headerlink" href="#okk-bdc-fixed-point-packed-add" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti">
<span id="_CPPv330okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="_CPPv230okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="okk_bdc_fixed_point_packed_add__local_addr_t.local_addr_t.local_addr_t.dim4CP.dim4CP.dim4CP.dim4CP.op_type_t.i"></span>void <code class="descname">okk_bdc_fixed_point_packed_add</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src0_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src1_addr</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src0_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src1_stride</em>, <a class="reference internal" href="../refined.html#_CPPv49op_type_t" title="op_type_t">op_type_t</a> <em>op_type</em>, int <em>rshift</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform addition of the elements of the source_0 and source_1 tensors for fixed-point data type.</p>
<p>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::rshift"><span class="pre">rshift</span></a> <span class="pre">&gt;</span> <span class="pre">0</span></code></p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = (src\_0(n, c, h, w) + src\_1(n, c, h, w) + 2^{rshift - 1}) \ \mathbf{RSH}\ rshift\]</div>
<p>else</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = src\_0(n, c, h, w) + src\_1(n, c, h, w)\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src0_addr</strong> – Address of the source_0 tensor.</li>
<li><strong>src1_addr</strong> – Address of the source_1 tensor.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination, source_0 and source_1 tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src0_stride</strong> – Pointer to the stride of the source_0 tensor.</li>
<li><strong>src1_stride</strong> – Pointer to the stride of the source_1 tensor.</li>
<li><strong>op_type</strong> – Operation type.</li>
<li><strong>rshift</strong> – Number of the arithmetic right-shift to the result.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data types of the destination, source_0 and source_1 tensors could be int8, uint8, int16 or uint16, and required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::op_type"><span class="pre">op_type</span></a></code>.</li>
<li>The tensor is in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a> if its data type is int8 or uint8, <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a> if int16 or uint16.</li>
<li>The destination, source_0 and source_1 tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::dst_addr"><span class="pre">dst_addr</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::src0_addr"><span class="pre">src0_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::src1_addr"><span class="pre">src1_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::dst_stride"><span class="pre">dst_stride</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::src0_stride"><span class="pre">src0_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::src1_stride"><span class="pre">src1_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>The valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::op_type"><span class="pre">op_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv414S8_OP_S8_TO_S8" title="S8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_S8_TO_S16" title="S8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414S8_OP_U8_TO_S8" title="S8_OP_U8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_U8_TO_S16" title="S8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_S8_TO_S8" title="U8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_S8_TO_S16" title="U8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_U8_TO_U8" title="U8_OP_U8_TO_U8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_U8_TO_U16" title="U8_OP_U8_TO_U16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416S16_OP_S16_TO_S8" title="S16_OP_S16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_S16_TO_S16" title="S16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416S16_OP_U16_TO_S8" title="S16_OP_U16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_U16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_U16_TO_S16" title="S16_OP_U16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_U16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416U16_OP_S16_TO_S8" title="U16_OP_S16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_S16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417U16_OP_S16_TO_S16" title="U16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_S16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416U16_OP_U16_TO_U8" title="U16_OP_U16_TO_U8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_U8</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv417U16_OP_U16_TO_U16" title="U16_OP_U16_TO_U16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_U16</span></code></a>.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_add12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add::rshift"><span class="pre">rshift</span></a></code> is in [0, 31].</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-add-c">
<h2>okk_bdc_fixed_point_packed_add_C<a class="headerlink" href="#okk-bdc-fixed-point-packed-add-c" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti">
<span id="_CPPv332okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="_CPPv232okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="okk_bdc_fixed_point_packed_add_C__local_addr_t.local_addr_t.i.dim4CP.dim4CP.dim4CP.op_type_t.i"></span>void <code class="descname">okk_bdc_fixed_point_packed_add_C</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src_addr</em>, int <em>C</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src_stride</em>, <a class="reference internal" href="../refined.html#_CPPv49op_type_t" title="op_type_t">op_type_t</a> <em>op_type</em>, int <em>rshift</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform addition of the elements of the source tensor and a constant value for fixed-point data type.</p>
<p>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add_C::rshift"><span class="pre">rshift</span></a> <span class="pre">&gt;</span> <span class="pre">0</span></code></p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = (src(n, c, h, w) + C + 2^{rshift - 1}) \ \mathbf{RSH}\ rshift\]</div>
<p>else</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = src(n, c, h, w) + C\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src_addr</strong> – Address of the source tensor.</li>
<li><strong>C</strong> – Constant value to add.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination and source tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src_stride</strong> – Pointer to the stride of the source tensor.</li>
<li><strong>op_type</strong> – Operation type.</li>
<li><strong>rshift</strong> – Number of the arithmetic right-shift to the result.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data types of the destination and source tensors could be int8, uint8, int16 or uint16, and required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add_C::op_type"><span class="pre">op_type</span></a></code>.</li>
<li>The tensor is in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a> if its data type is int8 or uint8, <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a> if int16 or uint16.</li>
<li>The destination and source tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add_C::dst_addr"><span class="pre">dst_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add_C::src_addr"><span class="pre">src_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add_C::C"><span class="pre">C</span></a></code> is in [-128, 127] if the data type of it is int8, [0, 255] if uint8, [-32768, 32767] if int16, and [0, 65535] if uint16.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add_C::dst_stride"><span class="pre">dst_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add_C::src_stride"><span class="pre">src_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>The valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add_C::op_type"><span class="pre">op_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv414S8_OP_S8_TO_S8" title="S8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_S8_TO_S16" title="S8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414S8_OP_U8_TO_S8" title="S8_OP_U8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_U8_TO_S16" title="S8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_S8_TO_S8" title="U8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_S8_TO_S16" title="U8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_U8_TO_U8" title="U8_OP_U8_TO_U8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_U8_TO_U16" title="U8_OP_U8_TO_U16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416S16_OP_S16_TO_S8" title="S16_OP_S16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_S16_TO_S16" title="S16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416S16_OP_U16_TO_S8" title="S16_OP_U16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_U16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_U16_TO_S16" title="S16_OP_U16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_U16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416U16_OP_S16_TO_S8" title="U16_OP_S16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_S16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417U16_OP_S16_TO_S16" title="U16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_S16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416U16_OP_U16_TO_U8" title="U16_OP_U16_TO_U8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_U8</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv417U16_OP_U16_TO_U16" title="U16_OP_U16_TO_U16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_U16</span></code></a>.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_add_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_add_C::rshift"><span class="pre">rshift</span></a></code> is in [0, 31].</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-sub">
<h2>okk_bdc_fixed_point_packed_sub<a class="headerlink" href="#okk-bdc-fixed-point-packed-sub" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti">
<span id="_CPPv330okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="_CPPv230okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="okk_bdc_fixed_point_packed_sub__local_addr_t.local_addr_t.local_addr_t.dim4CP.dim4CP.dim4CP.dim4CP.op_type_t.i"></span>void <code class="descname">okk_bdc_fixed_point_packed_sub</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src0_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src1_addr</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src0_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src1_stride</em>, <a class="reference internal" href="../refined.html#_CPPv49op_type_t" title="op_type_t">op_type_t</a> <em>op_type</em>, int <em>rshift</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform subtraction of the elements of the source_0 tensor by the elements of the source_1 tensor for fixed-point data type.</p>
<p>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::rshift"><span class="pre">rshift</span></a> <span class="pre">&gt;</span> <span class="pre">0</span></code></p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = (src\_0(n, c, h, w) - src\_1(n, c, h, w) + 2^{rshift - 1}) \ \mathbf{RSH}\ rshift\]</div>
<p>else</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = src\_0(n, c, h, w) - src\_1(n, c, h, w)\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src0_addr</strong> – Address of the source_0 tensor.</li>
<li><strong>src1_addr</strong> – Address of the source_1 tensor.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination, source_0 and source_1 tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src0_stride</strong> – Pointer to the stride of the source_0 tensor.</li>
<li><strong>src1_stride</strong> – Pointer to the stride of the source_1 tensor.</li>
<li><strong>op_type</strong> – Operation type.</li>
<li><strong>rshift</strong> – Number of the arithmetic right-shift to the result.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data types of the destination, source_0 and source_1 tensors are int8, uint8, int16 or uint16, and required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::op_type"><span class="pre">op_type</span></a></code>.</li>
<li>The tensor is in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a> if its data type is int8 or uint8, <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a> if int16 or uint16.</li>
<li>The destination, source_0 and source_1 tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::dst_addr"><span class="pre">dst_addr</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::src0_addr"><span class="pre">src0_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::src1_addr"><span class="pre">src1_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::dst_stride"><span class="pre">dst_stride</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::src0_stride"><span class="pre">src0_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::src1_stride"><span class="pre">src1_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>The valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::op_type"><span class="pre">op_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv414S8_OP_S8_TO_S8" title="S8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_S8_TO_S16" title="S8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414S8_OP_U8_TO_S8" title="S8_OP_U8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_U8_TO_S16" title="S8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_S8_TO_S8" title="U8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_S8_TO_S16" title="U8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_U8_TO_S8" title="U8_OP_U8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_U8_TO_S16" title="U8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416S16_OP_S16_TO_S8" title="S16_OP_S16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_S16_TO_S16" title="S16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416S16_OP_U16_TO_S8" title="S16_OP_U16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_U16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_U16_TO_S16" title="S16_OP_U16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_U16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416U16_OP_S16_TO_S8" title="U16_OP_S16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_S16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417U16_OP_S16_TO_S16" title="U16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_S16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416U16_OP_U16_TO_S8" title="U16_OP_U16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_S8</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv417U16_OP_U16_TO_S16" title="U16_OP_U16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_S16</span></code></a>.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_sub12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub::rshift"><span class="pre">rshift</span></a></code> is in [0, 31].</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-sub-c">
<h2>okk_bdc_fixed_point_packed_sub_C<a class="headerlink" href="#okk-bdc-fixed-point-packed-sub-c" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti">
<span id="_CPPv332okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="_CPPv232okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="okk_bdc_fixed_point_packed_sub_C__local_addr_t.local_addr_t.i.dim4CP.dim4CP.dim4CP.op_type_t.i"></span>void <code class="descname">okk_bdc_fixed_point_packed_sub_C</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src_addr</em>, int <em>C</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src_stride</em>, <a class="reference internal" href="../refined.html#_CPPv49op_type_t" title="op_type_t">op_type_t</a> <em>op_type</em>, int <em>rshift</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform subtraction of the elements of the source tensor by a constant value for fixed-point data type.</p>
<p>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub_C::rshift"><span class="pre">rshift</span></a> <span class="pre">&gt;</span> <span class="pre">0</span></code></p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = (src(n, c, h, w) - C + 2^{rshift - 1}) \ \mathbf{RSH}\ rshift\]</div>
<p>else</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = src(n, c, h, w) - C\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src_addr</strong> – Address of the source tensor.</li>
<li><strong>C</strong> – Constant value to subtract by.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination and source tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src_stride</strong> – Pointer to the stride of the source tensor.</li>
<li><strong>op_type</strong> – Operation type.</li>
<li><strong>rshift</strong> – Number of the arithmetic right-shift to the result.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data types of the destination and source tensors are int8, uint8, int16 or uint16, and required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub_C::op_type"><span class="pre">op_type</span></a></code>.</li>
<li>The tensor is in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a> if its data type is int8 or uint8, <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a> if int16 or uint16.</li>
<li>The destination and source tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub_C::dst_addr"><span class="pre">dst_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub_C::src_addr"><span class="pre">src_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub_C::C"><span class="pre">C</span></a></code> is in [-128, 127] if the data type of it is int8, [0, 255] if uint8, [-32768, 32767] if int16, and [0, 65535] if uint16.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub_C::dst_stride"><span class="pre">dst_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub_C::src_stride"><span class="pre">src_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>The valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub_C::op_type"><span class="pre">op_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv414S8_OP_S8_TO_S8" title="S8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_S8_TO_S16" title="S8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414S8_OP_U8_TO_S8" title="S8_OP_U8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_U8_TO_S16" title="S8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_S8_TO_S8" title="U8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_S8_TO_S16" title="U8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_U8_TO_S8" title="U8_OP_U8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_U8_TO_S16" title="U8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416S16_OP_S16_TO_S8" title="S16_OP_S16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_S16_TO_S16" title="S16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416S16_OP_U16_TO_S8" title="S16_OP_U16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_U16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_U16_TO_S16" title="S16_OP_U16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_U16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416U16_OP_S16_TO_S8" title="U16_OP_S16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_S16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417U16_OP_S16_TO_S16" title="U16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_S16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416U16_OP_U16_TO_S8" title="U16_OP_U16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_S8</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv417U16_OP_U16_TO_S16" title="U16_OP_U16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_S16</span></code></a>.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_sub_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_sub_C::rshift"><span class="pre">rshift</span></a></code> is in [0, 31].</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-c-sub">
<h2>okk_bdc_fixed_point_packed_C_sub<a class="headerlink" href="#okk-bdc-fixed-point-packed-c-sub" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti">
<span id="_CPPv332okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="_CPPv232okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="okk_bdc_fixed_point_packed_C_sub__local_addr_t.local_addr_t.i.dim4CP.dim4CP.dim4CP.op_type_t.i"></span>void <code class="descname">okk_bdc_fixed_point_packed_C_sub</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src_addr</em>, int <em>C</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src_stride</em>, <a class="reference internal" href="../refined.html#_CPPv49op_type_t" title="op_type_t">op_type_t</a> <em>op_type</em>, int <em>rshift</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform subtraction of the elements of the source tensor by a constant value for fixed-point data type.</p>
<p>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_C_sub::rshift"><span class="pre">rshift</span></a> <span class="pre">&gt;</span> <span class="pre">0</span></code></p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = (C - src(n, c, h, w) + 2^{rshift - 1}) \ \mathbf{RSH}\ rshift\]</div>
<p>else</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = C - src(n, c, h, w)\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src_addr</strong> – Address of the source tensor.</li>
<li><strong>C</strong> – Constant value to be subtracted.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination and source tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src_stride</strong> – Pointer to the stride of the source tensor.</li>
<li><strong>op_type</strong> – Operation type.</li>
<li><strong>rshift</strong> – Number of the arithmetic right-shift to the result.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data types of the destination and source tensors are int8, uint8, int16 or uint16, and required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_C_sub::op_type"><span class="pre">op_type</span></a></code>.</li>
<li>The tensor is in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a> if its data type is int8 or uint8, <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a> if int16 or uint16.</li>
<li>The destination and source tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_C_sub::dst_addr"><span class="pre">dst_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_C_sub::src_addr"><span class="pre">src_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_C_sub::C"><span class="pre">C</span></a></code> is in [-128, 127] if the data type of it is int8, [0, 255] if uint8, [-32768, 32767] if int16, and [0, 65535] if uint16.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_C_sub::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_C_sub::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_C_sub::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_C_sub::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_C_sub::dst_stride"><span class="pre">dst_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_C_sub::src_stride"><span class="pre">src_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>The valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_C_sub::op_type"><span class="pre">op_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv414S8_OP_S8_TO_S8" title="S8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_S8_TO_S16" title="S8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414S8_OP_U8_TO_S8" title="S8_OP_U8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_U8_TO_S16" title="S8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_S8_TO_S8" title="U8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_S8_TO_S16" title="U8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_U8_TO_S8" title="U8_OP_U8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_U8_TO_S16" title="U8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416S16_OP_S16_TO_S8" title="S16_OP_S16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_S16_TO_S16" title="S16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416S16_OP_U16_TO_S8" title="S16_OP_U16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_U16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_U16_TO_S16" title="S16_OP_U16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_U16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416U16_OP_S16_TO_S8" title="U16_OP_S16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_S16_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417U16_OP_S16_TO_S16" title="U16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_S16_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv416U16_OP_U16_TO_S8" title="U16_OP_U16_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_S8</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv417U16_OP_U16_TO_S16" title="U16_OP_U16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_S16</span></code></a>.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_C_sub12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_C_sub::rshift"><span class="pre">rshift</span></a></code> is in [0, 31].</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-mul">
<h2>okk_bdc_fixed_point_packed_mul<a class="headerlink" href="#okk-bdc-fixed-point-packed-mul" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti">
<span id="_CPPv330okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="_CPPv230okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="okk_bdc_fixed_point_packed_mul__local_addr_t.local_addr_t.local_addr_t.dim4CP.dim4CP.dim4CP.dim4CP.op_type_t.i"></span>void <code class="descname">okk_bdc_fixed_point_packed_mul</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src0_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src1_addr</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src0_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src1_stride</em>, <a class="reference internal" href="../refined.html#_CPPv49op_type_t" title="op_type_t">op_type_t</a> <em>op_type</em>, int <em>rshift</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform multiplication of the elements of the source_0 and source_1 tensors for fixed-point data type.</p>
<p>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::rshift"><span class="pre">rshift</span></a> <span class="pre">&gt;</span> <span class="pre">0</span></code></p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = (src\_0(n, c, h, w) \times src\_1(n, c, h, w) + 2^{rshift - 1}) \ \mathbf{RSH}\ rshift\]</div>
<p>else</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = src\_0(n, c, h, w) \times src\_1(n, c, h, w)\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src0_addr</strong> – Address of the source_0 tensor.</li>
<li><strong>src1_addr</strong> – Address of the source_1 tensor.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination, source_0 and source_1 tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src0_stride</strong> – Pointer to the stride of the source_0 tensor.</li>
<li><strong>src1_stride</strong> – Pointer to the stride of the source_1 tensor.</li>
<li><strong>op_type</strong> – Operation type.</li>
<li><strong>rshift</strong> – Number of the arithmetic right-shift to the result.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the source_0 and source_1 tensors is int8 or uint8, the data type of the destination tensor is int8, uint8, int16 or uint16, and the data types are required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::op_type"><span class="pre">op_type</span></a></code>.</li>
<li>The tensor is in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a> if its data type is int8 or uint8, <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a> if int16 or uint16.</li>
<li>The destination, source_0 and source_1 tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::dst_addr"><span class="pre">dst_addr</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::src0_addr"><span class="pre">src0_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::src1_addr"><span class="pre">src1_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::dst_stride"><span class="pre">dst_stride</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::src0_stride"><span class="pre">src0_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::src1_stride"><span class="pre">src1_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>The valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::op_type"><span class="pre">op_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv414S8_OP_S8_TO_S8" title="S8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_S8_TO_S16" title="S8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414S8_OP_U8_TO_S8" title="S8_OP_U8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_U8_TO_S16" title="S8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_S8_TO_S8" title="U8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_S8_TO_S16" title="U8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_U8_TO_U8" title="U8_OP_U8_TO_U8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U8</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv415U8_OP_U8_TO_U16" title="U8_OP_U8_TO_U16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U16</span></code></a>.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mul12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul::rshift"><span class="pre">rshift</span></a></code> is in [0, 31].</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-mul-c">
<h2>okk_bdc_fixed_point_packed_mul_C<a class="headerlink" href="#okk-bdc-fixed-point-packed-mul-c" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti">
<span id="_CPPv332okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="_CPPv232okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti"></span><span id="okk_bdc_fixed_point_packed_mul_C__local_addr_t.local_addr_t.i.dim4CP.dim4CP.dim4CP.op_type_t.i"></span>void <code class="descname">okk_bdc_fixed_point_packed_mul_C</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src_addr</em>, int <em>C</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src_stride</em>, <a class="reference internal" href="../refined.html#_CPPv49op_type_t" title="op_type_t">op_type_t</a> <em>op_type</em>, int <em>rshift</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform multiplication of the elements of the source tensor and a constant value for fixed-point data type.</p>
<p>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul_C::rshift"><span class="pre">rshift</span></a> <span class="pre">&gt;</span> <span class="pre">0</span></code></p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = (src(n, c, h, w) \times C + 2^{rshift - 1}) \ \mathbf{RSH}\ rshift\]</div>
<p>else</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = src(n, c, h, w) \times C\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src_addr</strong> – Address of the source tensor.</li>
<li><strong>C</strong> – Constant value to multiply.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination and source tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src_stride</strong> – Pointer to the stride of the source tensor.</li>
<li><strong>op_type</strong> – Operation type.</li>
<li><strong>rshift</strong> – Number of the arithmetic right-shift to the result.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the source tensor is int8 or uint8, the data type of the destination tensor is int8, uint8, int16 or uint16, and the data types are required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul_C::op_type"><span class="pre">op_type</span></a></code>.</li>
<li>The tensor is in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a> if its data type is int8 or uint8, <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a> if int16 or uint16.</li>
<li>The destination and source tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul_C::dst_addr"><span class="pre">dst_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul_C::src_addr"><span class="pre">src_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul_C::C"><span class="pre">C</span></a></code> is in [-128, 127] if the data type of it is int8, [0, 255] if uint8.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul_C::dst_stride"><span class="pre">dst_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul_C::src_stride"><span class="pre">src_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>The valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul_C::op_type"><span class="pre">op_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv414S8_OP_S8_TO_S8" title="S8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_S8_TO_S16" title="S8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414S8_OP_U8_TO_S8" title="S8_OP_U8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_U8_TO_S16" title="S8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_S8_TO_S8" title="U8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_S8_TO_S16" title="U8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_U8_TO_U8" title="U8_OP_U8_TO_U8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U8</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv415U8_OP_U8_TO_U16" title="U8_OP_U8_TO_U16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U16</span></code></a>.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mul_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_ti" title="okk_bdc_fixed_point_packed_mul_C::rshift"><span class="pre">rshift</span></a></code> is in [0, 31].</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-mac">
<h2>okk_bdc_fixed_point_packed_mac<a class="headerlink" href="#okk-bdc-fixed-point-packed-mac" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii">
<span id="_CPPv330okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii"></span><span id="_CPPv230okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii"></span><span id="okk_bdc_fixed_point_packed_mac__local_addr_t.local_addr_t.local_addr_t.dim4CP.dim4CP.dim4CP.dim4CP.b.op_type_t.i.i"></span>void <code class="descname">okk_bdc_fixed_point_packed_mac</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src0_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src1_addr</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src0_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src1_stride</em>, bool <em>is_origin_dst_signed</em>, <a class="reference internal" href="../refined.html#_CPPv49op_type_t" title="op_type_t">op_type_t</a> <em>op_type</em>, int <em>lshift</em>, int <em>rshift</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform multiply accumulation of the elements of the source_0 and source_1 tensors for fixed-point data type.</p>
<p>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::rshift"><span class="pre">rshift</span></a> <span class="pre">&gt;</span> <span class="pre">0</span></code></p>
<div class="math notranslate nohighlight">
\[\begin{split}dst(n, c, h, w) &amp; = &amp;(dst(n, c, h, w) \times 2^{lshift} + src\_0(n, c, h, w)\times src\_1(n, c, h, w)\\
&amp;   &amp; + 2^{rshift - 1}) \ \mathbf{RSH}\ rshift\end{split}\]</div>
<p>else</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = dst(n, c, h, w) \times 2^{lshift} + src\_0(n, c, h, w)\times src\_1(n, c, h, w)\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src0_addr</strong> – Address of the source_0 tensor.</li>
<li><strong>src1_addr</strong> – Address of the source_1 tensor.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination, source_0 and source_1 tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src0_stride</strong> – Pointer to the stride of the source_0 tensor.</li>
<li><strong>src1_stride</strong> – Pointer to the stride of the source_1 tensor.</li>
<li><strong>is_origin_dst_signed</strong> – Flag of the data type of the origin destination tensor, <code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">true</span></code> means int16, otherwise, uint16.</li>
<li><strong>op_type</strong> – Operation type.</li>
<li><strong>lshift</strong> – Number of the left-shift to the origin elements of the destination tensor.</li>
<li><strong>rshift</strong> – Number of the arithmetic right-shift to the result.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the source_0 and source_1 tensors is int8 or uint8, the data type of the destination tensor is int16 or uint16, and the data types are required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::op_type"><span class="pre">op_type</span></a></code>.</li>
<li>The tensor is in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a> if its data type is int8 or uint8, <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a> if int16 or uint16.</li>
<li>The destination, source_0 and source_1 tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::dst_addr"><span class="pre">dst_addr</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::src0_addr"><span class="pre">src0_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::src1_addr"><span class="pre">src1_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::dst_stride"><span class="pre">dst_stride</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::src0_stride"><span class="pre">src0_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::src1_stride"><span class="pre">src1_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::is_origin_dst_signed"><span class="pre">is_origin_dst_signed</span></a> <span class="pre">=</span> <span class="pre">true</span></code>, the valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::op_type"><span class="pre">op_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv415S8_OP_S8_TO_S16" title="S8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_U8_TO_S16" title="S8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S16</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv415U8_OP_S8_TO_S16" title="U8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S16</span></code></a>, otherwise, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_S8_TO_S16" title="S8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_U8_TO_S16" title="S8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_S8_TO_S16" title="U8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S16</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv415U8_OP_U8_TO_U16" title="U8_OP_U8_TO_U16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U16</span></code></a>.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::lshift"><span class="pre">lshift</span></a></code> is in [0, 14], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_mac12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac::rshift"><span class="pre">rshift</span></a></code> is in [0, 31].</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-mac-c">
<h2>okk_bdc_fixed_point_packed_mac_C<a class="headerlink" href="#okk-bdc-fixed-point-packed-mac-c" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii">
<span id="_CPPv332okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii"></span><span id="_CPPv232okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii"></span><span id="okk_bdc_fixed_point_packed_mac_C__local_addr_t.local_addr_t.i.dim4CP.dim4CP.dim4CP.b.op_type_t.i.i"></span>void <code class="descname">okk_bdc_fixed_point_packed_mac_C</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src_addr</em>, int <em>C</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src_stride</em>, bool <em>is_origin_dst_signed</em>, <a class="reference internal" href="../refined.html#_CPPv49op_type_t" title="op_type_t">op_type_t</a> <em>op_type</em>, int <em>lshift</em>, int <em>rshift</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform multiply accumulation of the elements of the source_0 and source_1 tensors for fixed-point data type.</p>
<p>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::rshift"><span class="pre">rshift</span></a> <span class="pre">&gt;</span> <span class="pre">0</span></code></p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = (dst(n, c, h, w) \times 2^{lshift} + src(n, c, h, w)\times C + 2^{rshift - 1}) \ \mathbf{RSH}\ rshift\]</div>
<p>else</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = dst(n, c, h, w) \times 2^{lshift} + src(n, c, h, w)\times C\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src_addr</strong> – Address of the source tensor.</li>
<li><strong>C</strong> – Constant value to multiply.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination and source tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src_stride</strong> – Pointer to the stride of the source tensor.</li>
<li><strong>is_origin_dst_signed</strong> – Flag of the data type of the origin destination tensor, <code class="xref cpp cpp-expr docutils literal notranslate"><span class="pre">true</span></code> means int16, otherwise, uint16.</li>
<li><strong>op_type</strong> – Operation type.</li>
<li><strong>lshift</strong> – Number of the left-shift to the origin elements of the destination tensor.</li>
<li><strong>rshift</strong> – Number of the arithmetic right-shift to the result.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the source tensor is int8 or uint8, the data type of the destination tensor is int16 or uint16, and the data types are required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::op_type"><span class="pre">op_type</span></a></code>.</li>
<li>The tensor is in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a> if its data type is int8 or uint8, <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a> if int16 or uint16.</li>
<li>The destination and source tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::dst_addr"><span class="pre">dst_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::src_addr"><span class="pre">src_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::C"><span class="pre">C</span></a></code> is in [-128, 127] if the data type of it is int8, [0, 255] if uint8.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::dst_stride"><span class="pre">dst_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::src_stride"><span class="pre">src_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::is_origin_dst_signed"><span class="pre">is_origin_dst_signed</span></a> <span class="pre">=</span> <span class="pre">true</span></code>, the valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::op_type"><span class="pre">op_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv415S8_OP_S8_TO_S16" title="S8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_U8_TO_S16" title="S8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S16</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv415U8_OP_S8_TO_S16" title="U8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S16</span></code></a>, otherwise, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_S8_TO_S16" title="S8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415S8_OP_U8_TO_S16" title="S8_OP_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_U8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv415U8_OP_S8_TO_S16" title="U8_OP_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_S8_TO_S16</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv415U8_OP_U8_TO_U16" title="U8_OP_U8_TO_U16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U16</span></code></a>.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::lshift"><span class="pre">lshift</span></a></code> is in [0, 14], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_mac_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim4b9op_type_tii" title="okk_bdc_fixed_point_packed_mac_C::rshift"><span class="pre">rshift</span></a></code> is in [0, 31].</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-max">
<h2>okk_bdc_fixed_point_packed_max<a class="headerlink" href="#okk-bdc-fixed-point-packed-max" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv430okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t">
<span id="_CPPv330okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t"></span><span id="_CPPv230okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t"></span><span id="okk_bdc_fixed_point_packed_max__local_addr_t.local_addr_t.local_addr_t.dim4CP.dim4CP.dim4CP.dim4CP.op_type_t"></span>void <code class="descname">okk_bdc_fixed_point_packed_max</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src0_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src1_addr</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src0_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src1_stride</em>, <a class="reference internal" href="../refined.html#_CPPv49op_type_t" title="op_type_t">op_type_t</a> <em>op_type</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform maximum operation of the elements of the source_0 and source_1 tensors for fixed-point data type.</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = \max(src\_0(n, c, h, w), src\_1(n, c, h, w))\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src0_addr</strong> – Address of the source_0 tensor.</li>
<li><strong>src1_addr</strong> – Address of the source_1 tensor.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination, source_0 and source_1 tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src0_stride</strong> – Pointer to the stride of the source_0 tensor.</li>
<li><strong>src1_stride</strong> – Pointer to the stride of the source_1 tensor.</li>
<li><strong>op_type</strong> – Operation type.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the destination, source_0 and source_1 tensors is int8, uint8, int16 or uint16, and the data types are required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max::op_type"><span class="pre">op_type</span></a></code>.</li>
<li>The tensor is in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a> if its data type is int8 or uint8, <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a> if int16 or uint16.</li>
<li>The destination, source_0 and source_1 tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max::dst_addr"><span class="pre">dst_addr</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max::src0_addr"><span class="pre">src0_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max::src1_addr"><span class="pre">src1_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max::dst_stride"><span class="pre">dst_stride</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max::src0_stride"><span class="pre">src0_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max::src1_stride"><span class="pre">src1_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>The valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_max12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max::op_type"><span class="pre">op_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv414S8_OP_S8_TO_S8" title="S8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_U8_TO_U8" title="U8_OP_U8_TO_U8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_S16_TO_S16" title="S16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S16</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv417U16_OP_U16_TO_U16" title="U16_OP_U16_TO_U16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_U16</span></code></a>.</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-max-c">
<h2>okk_bdc_fixed_point_packed_max_C<a class="headerlink" href="#okk-bdc-fixed-point-packed-max-c" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv432okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t">
<span id="_CPPv332okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t"></span><span id="_CPPv232okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t"></span><span id="okk_bdc_fixed_point_packed_max_C__local_addr_t.local_addr_t.i.dim4CP.dim4CP.dim4CP.op_type_t"></span>void <code class="descname">okk_bdc_fixed_point_packed_max_C</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src_addr</em>, int <em>C</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src_stride</em>, <a class="reference internal" href="../refined.html#_CPPv49op_type_t" title="op_type_t">op_type_t</a> <em>op_type</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform maximum operation of the elements of the source tensor and a constant value for fixed-point data type.</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = \max(src(n, c, h, w), C)\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src_addr</strong> – Address of the source_0 tensor.</li>
<li><strong>C</strong> – Constant value to be operated.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination and source tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src_stride</strong> – Pointer to the stride of the source tensor.</li>
<li><strong>op_type</strong> – Operation type.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the destination and source tensors is int8, uint8, int16 or uint16, and the data types are required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max_C::op_type"><span class="pre">op_type</span></a></code>.</li>
<li>The tensor is in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a> if its data type is int8 or uint8, <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a> if int16 or uint16.</li>
<li>The destination and source tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max_C::dst_addr"><span class="pre">dst_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max_C::src_addr"><span class="pre">src_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max_C::C"><span class="pre">C</span></a></code> is in [-128, 127] if the data type of it is int8, [0, 255] if uint8, [-32768, 32767] if int16, and [0, 65535] if uint16.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max_C::dst_stride"><span class="pre">dst_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max_C::src_stride"><span class="pre">src_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>The valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_max_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_max_C::op_type"><span class="pre">op_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv414S8_OP_S8_TO_S8" title="S8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_U8_TO_U8" title="U8_OP_U8_TO_U8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_S16_TO_S16" title="S16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S16</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv417U16_OP_U16_TO_U16" title="U16_OP_U16_TO_U16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_U16</span></code></a>.</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-min">
<h2>okk_bdc_fixed_point_packed_min<a class="headerlink" href="#okk-bdc-fixed-point-packed-min" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv430okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t">
<span id="_CPPv330okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t"></span><span id="_CPPv230okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t"></span><span id="okk_bdc_fixed_point_packed_min__local_addr_t.local_addr_t.local_addr_t.dim4CP.dim4CP.dim4CP.dim4CP.op_type_t"></span>void <code class="descname">okk_bdc_fixed_point_packed_min</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src0_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src1_addr</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src0_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src1_stride</em>, <a class="reference internal" href="../refined.html#_CPPv49op_type_t" title="op_type_t">op_type_t</a> <em>op_type</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform minimum operation of the elements of the source_0 and source_1 tensors for fixed-point data type.</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = \min(src\_0(n, c, h, w), src\_1(n, c, h, w))\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src0_addr</strong> – Address of the source_0 tensor.</li>
<li><strong>src1_addr</strong> – Address of the source_1 tensor.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination, source_0 and source_1 tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src0_stride</strong> – Pointer to the stride of the source_0 tensor.</li>
<li><strong>src1_stride</strong> – Pointer to the stride of the source_1 tensor.</li>
<li><strong>op_type</strong> – Operation type.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the destination, source_0 and source_1 tensors is int8, uint8, int16 or uint16, and the data types are required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min::op_type"><span class="pre">op_type</span></a></code>.</li>
<li>The tensor is in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a> if its data type is int8 or uint8, <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a> if int16 or uint16.</li>
<li>The destination, source_0 and source_1 tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min::dst_addr"><span class="pre">dst_addr</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min::src0_addr"><span class="pre">src0_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min::src1_addr"><span class="pre">src1_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min::dst_stride"><span class="pre">dst_stride</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min::src0_stride"><span class="pre">src0_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min::src1_stride"><span class="pre">src1_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>The valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv430okk_bdc_fixed_point_packed_min12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min::op_type"><span class="pre">op_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv414S8_OP_S8_TO_S8" title="S8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_U8_TO_U8" title="U8_OP_U8_TO_U8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_S16_TO_S16" title="S16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S16</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv417U16_OP_U16_TO_U16" title="U16_OP_U16_TO_U16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_U16</span></code></a>.</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-min-c">
<h2>okk_bdc_fixed_point_packed_min_C<a class="headerlink" href="#okk-bdc-fixed-point-packed-min-c" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv432okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t">
<span id="_CPPv332okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t"></span><span id="_CPPv232okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t"></span><span id="okk_bdc_fixed_point_packed_min_C__local_addr_t.local_addr_t.i.dim4CP.dim4CP.dim4CP.op_type_t"></span>void <code class="descname">okk_bdc_fixed_point_packed_min_C</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src_addr</em>, int <em>C</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src_stride</em>, <a class="reference internal" href="../refined.html#_CPPv49op_type_t" title="op_type_t">op_type_t</a> <em>op_type</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform minimum operation of the elements of the source tensor and a constant value for fixed-point data type.</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = \min(src(n, c, h, w), C)\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src_addr</strong> – Address of the source_0 tensor.</li>
<li><strong>C</strong> – Constant value to be operated.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination and source tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src_stride</strong> – Pointer to the stride of the source tensor.</li>
<li><strong>op_type</strong> – Operation type.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the destination and source tensors is int8, uint8, int16 or uint16, and the data types are required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min_C::op_type"><span class="pre">op_type</span></a></code>.</li>
<li>The tensor is in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a> if its data type is int8 or uint8, <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a> if int16 or uint16.</li>
<li>The destination and source tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min_C::dst_addr"><span class="pre">dst_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min_C::src_addr"><span class="pre">src_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min_C::C"><span class="pre">C</span></a></code> is in [-128, 127] if the data type of it is int8, [0, 255] if uint8, [-32768, 32767] if int16, and [0, 65535] if uint16.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min_C::dst_stride"><span class="pre">dst_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min_C::src_stride"><span class="pre">src_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>The valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv432okk_bdc_fixed_point_packed_min_C12local_addr_t12local_addr_tiPK4dim4PK4dim4PK4dim49op_type_t" title="okk_bdc_fixed_point_packed_min_C::op_type"><span class="pre">op_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv414S8_OP_S8_TO_S8" title="S8_OP_S8_TO_S8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S8_OP_S8_TO_S8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv414U8_OP_U8_TO_U8" title="U8_OP_U8_TO_U8"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U8_OP_U8_TO_U8</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417S16_OP_S16_TO_S16" title="S16_OP_S16_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_OP_S16_TO_S16</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv417U16_OP_U16_TO_U16" title="U16_OP_U16_TO_U16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_OP_U16_TO_U16</span></code></a>.</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-16bit-arithmetic-shift">
<h2>okk_bdc_fixed_point_packed_16bit_arithmetic_shift<a class="headerlink" href="#okk-bdc-fixed-point-packed-16bit-arithmetic-shift" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv449okk_bdc_fixed_point_packed_16bit_arithmetic_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4">
<span id="_CPPv349okk_bdc_fixed_point_packed_16bit_arithmetic_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4"></span><span id="_CPPv249okk_bdc_fixed_point_packed_16bit_arithmetic_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4"></span><span id="okk_bdc_fixed_point_packed_16bit_arithmetic_shift__local_addr_t.local_addr_t.local_addr_t.dim4CP.dim4CP.dim4CP.dim4CP"></span>void <code class="descname">okk_bdc_fixed_point_packed_16bit_arithmetic_shift</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src0_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src1_addr</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src0_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src1_stride</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform arithmetic shift operation of the elements of the source_0 tensor by the elements of the source_1 tensor for 16-bit data type.</p>
<div class="math notranslate nohighlight">
\[\begin{split}dst(n, c, h, w) = {\begin{cases}src\_0(n, c, h, w)\ \mathbf{LSH}\ src\_1(n, c, h, w)&amp;{\text{if }}src\_1(n, c, h, w)&gt;0,\\src\_0(n, c, h, w)\ \mathbf{RSH}\ -src\_1(n, c, h, w)&amp;{\text{otherwise}}.\end{cases}}\end{split}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src0_addr</strong> – Address of the source_0 tensor.</li>
<li><strong>src1_addr</strong> – Address of the source_1 tensor.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination, source_0 and source_1 tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src0_stride</strong> – Pointer to the stride of the source_0 tensor.</li>
<li><strong>src1_stride</strong> – Pointer to the stride of the source_1 tensor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the destination, source_0 and source_1 tensors is int16.</li>
<li>The destination, source_0 and source_1 tensors are in the <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a>.</li>
<li>The elements of the source_1 tensor are in [-16, 16], positive one performs left-shift and negative one performs right-shift.</li>
<li>The destination, source_0 and source_1 tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv449okk_bdc_fixed_point_packed_16bit_arithmetic_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift::dst_addr"><span class="pre">dst_addr</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv449okk_bdc_fixed_point_packed_16bit_arithmetic_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift::src0_addr"><span class="pre">src0_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv449okk_bdc_fixed_point_packed_16bit_arithmetic_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift::src1_addr"><span class="pre">src1_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv449okk_bdc_fixed_point_packed_16bit_arithmetic_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv449okk_bdc_fixed_point_packed_16bit_arithmetic_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv449okk_bdc_fixed_point_packed_16bit_arithmetic_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv449okk_bdc_fixed_point_packed_16bit_arithmetic_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv449okk_bdc_fixed_point_packed_16bit_arithmetic_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift::dst_stride"><span class="pre">dst_stride</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv449okk_bdc_fixed_point_packed_16bit_arithmetic_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift::src0_stride"><span class="pre">src0_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv449okk_bdc_fixed_point_packed_16bit_arithmetic_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift::src1_stride"><span class="pre">src1_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-16bit-logical-shift">
<h2>okk_bdc_fixed_point_packed_16bit_logical_shift<a class="headerlink" href="#okk-bdc-fixed-point-packed-16bit-logical-shift" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv446okk_bdc_fixed_point_packed_16bit_logical_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4">
<span id="_CPPv346okk_bdc_fixed_point_packed_16bit_logical_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4"></span><span id="_CPPv246okk_bdc_fixed_point_packed_16bit_logical_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4"></span><span id="okk_bdc_fixed_point_packed_16bit_logical_shift__local_addr_t.local_addr_t.local_addr_t.dim4CP.dim4CP.dim4CP.dim4CP"></span>void <code class="descname">okk_bdc_fixed_point_packed_16bit_logical_shift</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src0_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src1_addr</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src0_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src1_stride</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform logical shift operation of the elements of the source_0 tensor by the elements of the source_1 tensor for 16-bit data type.</p>
<div class="math notranslate nohighlight">
\[\begin{split}dst(n, c, h, w) = {\begin{cases}src\_0(n, c, h, w)\ \mathbf{LSH}\ src\_1(n, c, h, w)&amp;{\text{if }}src\_1(n, c, h, w)&gt;0,\\src\_0(n, c, h, w)\ \mathbf{RSH}\ -src\_1(n, c, h, w)&amp;{\text{otherwise}}.\end{cases}}\end{split}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src0_addr</strong> – Address of the source_0 tensor.</li>
<li><strong>src1_addr</strong> – Address of the source_1 tensor.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination, source_0 and source_1 tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src0_stride</strong> – Pointer to the stride of the source_0 tensor.</li>
<li><strong>src1_stride</strong> – Pointer to the stride of the source_1 tensor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the destination, source_0 and source_1 tensors is uint16, the data type of the source_1 tensor is int16.</li>
<li>The destination, source_0 and source_1 tensors are in the <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a>.</li>
<li>The elements of the source_1 tensor are in [-16, 16], positive one performs left-shift and negative one performs right-shift.</li>
<li>The destination, source_0 and source_1 tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv446okk_bdc_fixed_point_packed_16bit_logical_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift::dst_addr"><span class="pre">dst_addr</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv446okk_bdc_fixed_point_packed_16bit_logical_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift::src0_addr"><span class="pre">src0_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv446okk_bdc_fixed_point_packed_16bit_logical_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift::src1_addr"><span class="pre">src1_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv446okk_bdc_fixed_point_packed_16bit_logical_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv446okk_bdc_fixed_point_packed_16bit_logical_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv446okk_bdc_fixed_point_packed_16bit_logical_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv446okk_bdc_fixed_point_packed_16bit_logical_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv446okk_bdc_fixed_point_packed_16bit_logical_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift::dst_stride"><span class="pre">dst_stride</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv446okk_bdc_fixed_point_packed_16bit_logical_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift::src0_stride"><span class="pre">src0_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv446okk_bdc_fixed_point_packed_16bit_logical_shift12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift::src1_stride"><span class="pre">src1_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-16bit-arithmetic-shift-c">
<h2>okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C<a class="headerlink" href="#okk-bdc-fixed-point-packed-16bit-arithmetic-shift-c" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv451okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4">
<span id="_CPPv351okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4"></span><span id="_CPPv251okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4"></span><span id="okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C__local_addr_t.local_addr_t.short.dim4CP.dim4CP.dim4CP"></span>void <code class="descname">okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src_addr</em>, short <em>C</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src_stride</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform arithmetic shift operation of the elements of the source tensor by a constant value for 16-bit data type.</p>
<div class="math notranslate nohighlight">
\[\begin{split}dst(n, c, h, w) = {\begin{cases}src(n, c, h, w)\ \mathbf{LSH}\ C&amp;{\text{if }}C&gt;0,\\src(n, c, h, w)\ \mathbf{RSH}\ -C&amp;{\text{otherwise}}.\end{cases}}\end{split}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src_addr</strong> – Address of the source tensor.</li>
<li><strong>C</strong> – Constant value to shift by.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination and source tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src_stride</strong> – Pointer to the stride of the source tensor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the destination and source tensors is int16.</li>
<li>The destination and source tensors are in the <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a>.</li>
<li>The constant value C is in [-16, 16], positive one performs left-shift and negative one performs right-shift.</li>
<li>The destination and source tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C::dst_addr"><span class="pre">dst_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C::src_addr"><span class="pre">src_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C::dst_stride"><span class="pre">dst_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_arithmetic_shift_C::src_stride"><span class="pre">src_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-16bit-logical-shift-c">
<h2>okk_bdc_fixed_point_packed_16bit_logical_shift_C<a class="headerlink" href="#okk-bdc-fixed-point-packed-16bit-logical-shift-c" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv448okk_bdc_fixed_point_packed_16bit_logical_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4">
<span id="_CPPv348okk_bdc_fixed_point_packed_16bit_logical_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4"></span><span id="_CPPv248okk_bdc_fixed_point_packed_16bit_logical_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4"></span><span id="okk_bdc_fixed_point_packed_16bit_logical_shift_C__local_addr_t.local_addr_t.short.dim4CP.dim4CP.dim4CP"></span>void <code class="descname">okk_bdc_fixed_point_packed_16bit_logical_shift_C</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src_addr</em>, short <em>C</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src_stride</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform logical shift operation of the elements of the source tensor by a constant value for 16-bit data type.</p>
<div class="math notranslate nohighlight">
\[\begin{split}dst(n, c, h, w) = {\begin{cases}src(n, c, h, w)\ \mathbf{LSH}\ C&amp;{\text{if }}C&gt;0,\\src(n, c, h, w)\ \mathbf{RSH}\ -C&amp;{\text{otherwise}}.\end{cases}}\end{split}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src_addr</strong> – Address of the source tensor.</li>
<li><strong>C</strong> – Constant value to shift by.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination and source tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src_stride</strong> – Pointer to the stride of the source tensor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the destination and source tensors is uint16.</li>
<li>The destination and source tensors are in the <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a>.</li>
<li>The constant value C is in [-16, 16], positive one performs left-shift and negative one performs right-shift.</li>
<li>The destination and source tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_logical_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift_C::dst_addr"><span class="pre">dst_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_logical_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift_C::src_addr"><span class="pre">src_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_logical_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_logical_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_logical_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_logical_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift_C::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_logical_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift_C::dst_stride"><span class="pre">dst_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_logical_shift_C12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_logical_shift_C::src_stride"><span class="pre">src_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-16bit-c-arithmetic-shift">
<h2>okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift<a class="headerlink" href="#okk-bdc-fixed-point-packed-16bit-c-arithmetic-shift" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv451okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4">
<span id="_CPPv351okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4"></span><span id="_CPPv251okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4"></span><span id="okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift__local_addr_t.local_addr_t.short.dim4CP.dim4CP.dim4CP"></span>void <code class="descname">okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src_addr</em>, short <em>C</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src_stride</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform arithmetic shift operation of a constant value by the elements of the source tensor for 16-bit data type.</p>
<div class="math notranslate nohighlight">
\[\begin{split}dst(n, c, h, w) = {\begin{cases}C\ \mathbf{LSH}\ src(n, c, h, w)&amp;{\text{if }}src(n, c, h, w)&gt;0,\\C\ \mathbf{RSH}\ -src(n, c, h, w)&amp;{\text{otherwise}}.\end{cases}}\end{split}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src_addr</strong> – Address of the source tensor.</li>
<li><strong>C</strong> – Constant value to be shifted.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination and source tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src_stride</strong> – Pointer to the stride of the source tensor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the destination and source tensors is int16.</li>
<li>The destination and source tensors are in the <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a>.</li>
<li>The elements of the source tensor are in [-16, 16], positive one performs left-shift and negative one performs right-shift.</li>
<li>The destination and source tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift::dst_addr"><span class="pre">dst_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift::src_addr"><span class="pre">src_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift::dst_stride"><span class="pre">dst_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv451okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift12local_addr_t12local_addr_tsPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_arithmetic_shift::src_stride"><span class="pre">src_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-16bit-c-logical-shift">
<h2>okk_bdc_fixed_point_packed_16bit_C_logical_shift<a class="headerlink" href="#okk-bdc-fixed-point-packed-16bit-c-logical-shift" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv448okk_bdc_fixed_point_packed_16bit_C_logical_shift12local_addr_t12local_addr_ttPK4dim4PK4dim4PK4dim4">
<span id="_CPPv348okk_bdc_fixed_point_packed_16bit_C_logical_shift12local_addr_t12local_addr_ttPK4dim4PK4dim4PK4dim4"></span><span id="_CPPv248okk_bdc_fixed_point_packed_16bit_C_logical_shift12local_addr_t12local_addr_ttPK4dim4PK4dim4PK4dim4"></span><span id="okk_bdc_fixed_point_packed_16bit_C_logical_shift__local_addr_t.local_addr_t.unsigned-short.dim4CP.dim4CP.dim4CP"></span>void <code class="descname">okk_bdc_fixed_point_packed_16bit_C_logical_shift</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src_addr</em>, unsigned short <em>C</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src_stride</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform logical shift operation of a constant value by the elements of the source tensor for 16-bit data type.</p>
<div class="math notranslate nohighlight">
\[\begin{split}dst(n, c, h, w) = {\begin{cases}C\ \mathbf{LSH}\ src(n, c, h, w)&amp;{\text{if }}src(n, c, h, w)&gt;0,\\C\ \mathbf{RSH}\ -src(n, c, h, w)&amp;{\text{otherwise}}.\end{cases}}\end{split}\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src_addr</strong> – Address of the source tensor.</li>
<li><strong>C</strong> – Constant value to be shifted.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination and source tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src_stride</strong> – Pointer to the stride of the source tensor.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the destination tensor is uint16, the data type of the source tensor is int16.</li>
<li>The destination and source tensors are in the <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a>.</li>
<li>The elements of the source tensor are in [-16, 16], positive one performs left-shift and negative one performs right-shift.</li>
<li>The destination and source tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_C_logical_shift12local_addr_t12local_addr_ttPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_logical_shift::dst_addr"><span class="pre">dst_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_C_logical_shift12local_addr_t12local_addr_ttPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_logical_shift::src_addr"><span class="pre">src_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_C_logical_shift12local_addr_t12local_addr_ttPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_logical_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_C_logical_shift12local_addr_t12local_addr_ttPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_logical_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_C_logical_shift12local_addr_t12local_addr_ttPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_logical_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_C_logical_shift12local_addr_t12local_addr_ttPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_logical_shift::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_C_logical_shift12local_addr_t12local_addr_ttPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_logical_shift::dst_stride"><span class="pre">dst_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_C_logical_shift12local_addr_t12local_addr_ttPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_C_logical_shift::src_stride"><span class="pre">src_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
</ul>
</dd></dl>

</div>
<div class="section" id="okk-bdc-fixed-point-packed-16bit-mul-8bit">
<h2>okk_bdc_fixed_point_packed_16bit_mul_8bit<a class="headerlink" href="#okk-bdc-fixed-point-packed-16bit-mul-8bit" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti">
<span id="_CPPv341okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti"></span><span id="_CPPv241okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti"></span><span id="okk_bdc_fixed_point_packed_16bit_mul_8bit__local_addr_t.local_addr_t.local_addr_t.local_addr_t.dim4CP.dim4CP.dim4CP.dim4CP.dim4CP.mul_type_t.i"></span>void <code class="descname">okk_bdc_fixed_point_packed_16bit_mul_8bit</code><span class="sig-paren">(</span><a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>dst_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src0_high_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src0_low_addr</em>, <a class="reference internal" href="../refined.html#_CPPv412local_addr_t" title="local_addr_t">local_addr_t</a> <em>src1_addr</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>shape</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>dst_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src0_high_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src0_low_stride</em>, <em class="property">const</em> <a class="reference internal" href="../refined.html#_CPPv44dim4" title="dim4">dim4</a> *<em>src1_stride</em>, <a class="reference internal" href="../refined.html#_CPPv410mul_type_t" title="mul_type_t">mul_type_t</a> <em>mul_type</em>, int <em>rshift</em><span class="sig-paren">)</span><br /></dt>
<dd><p>Perform multiplication of the elements of the source_0 (16-bit) and source_1 (8-bit) tensors for mixed fixed-point data type.</p>
<p>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::rshift"><span class="pre">rshift</span></a> <span class="pre">&gt;</span> <span class="pre">0</span></code></p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = (src\_0(n, c, h, w) \times src\_1(n, c, h, w) + 2^{rshift - 1}) \ \mathbf{RSH}\ rshift\]</div>
<p>else</p>
<div class="math notranslate nohighlight">
\[dst(n, c, h, w) = src\_0(n, c, h, w) \times src\_1(n, c, h, w)\]</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>dst_addr</strong> – Address of the destination tensor.</li>
<li><strong>src0_high_addr</strong> – Address of the source_0_high tensor.</li>
<li><strong>src0_low_addr</strong> – Address of the source_0_low tensor.</li>
<li><strong>src1_addr</strong> – Address of the source_1 tensor.</li>
<li><strong>shape</strong> – Pointer to the shape of the destination, source_0_high, source_0_low and source_1 tensors.</li>
<li><strong>dst_stride</strong> – Pointer to the stride of the destination tensor.</li>
<li><strong>src0_high_stride</strong> – Pointer to the stride of the source_0_high tensor.</li>
<li><strong>src0_low_stride</strong> – Pointer to the stride of the source_0_low tensor.</li>
<li><strong>src1_stride</strong> – Pointer to the stride of the source_1 tensor.</li>
<li><strong>mul_type</strong> – Multiplication type.</li>
<li><strong>rshift</strong> – Number of the arithmetic right-shift to the result.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p><strong>Remarks</strong></p>
<ul class="simple">
<li>The data type of the source_0 tensor is int16 or uint16, the data type of the source_1 tensor is int8 or uint8, the data type of the destination tensor is int16 or uint16, and the data types are required to match <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::mul_type"><span class="pre">mul_type</span></a></code>.</li>
<li>The source_0_high and source_0_low tensors respectively store the most and least significant 8 bits of elements of the source_0 tensor. (See <a class="reference internal" href="../refined.html#_CPPv448okk_bdc_fixed_point_packed_16bit_split_high_8bit12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_split_high_8bit"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">okk_bdc_fixed_point_packed_16bit_split_high_8bit()</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv447okk_bdc_fixed_point_packed_16bit_split_low_8bit12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4" title="okk_bdc_fixed_point_packed_16bit_split_low_8bit"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">okk_bdc_fixed_point_packed_16bit_split_low_8bit()</span></code></a>)</li>
<li>The destination tensor is in the <a class="reference internal" href="../layout.html#id6"><span class="std std-ref">2N-mode</span></a>, the source_0_high, source_0_low and source_1 tensors are in the <a class="reference internal" href="../layout.html#n-mode"><span class="std std-ref">4N-mode</span></a>.</li>
<li>The destination, source_0_high, source_0_low and source_1 tensors start at the first NPU.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::dst_addr"><span class="pre">dst_addr</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::src0_high_addr"><span class="pre">src0_high_addr</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::src0_low_addr"><span class="pre">src0_low_addr</span></a></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::src1_addr"><span class="pre">src1_addr</span></a></code> are divisible by 4 and preferred by 128.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">n</span></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">h</span></code> and <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">w</span></code> are in [1, 65535], <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::shape"><span class="pre">shape</span></a><span class="pre">-&gt;</span><span class="pre">c</span></code> is in [1, 4095].</li>
<li>If <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::dst_stride"><span class="pre">dst_stride</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::src0_high_stride"><span class="pre">src0_high_stride</span></a></code>, <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::src0_low_stride"><span class="pre">src0_low_stride</span></a></code> or <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::src1_stride"><span class="pre">src1_stride</span></a></code> is NULL, the relative tensor is in the <a class="reference internal" href="../layout.html#byte-aligned-layout"><span class="std std-ref">128-Byte Aligned Layout</span></a>.</li>
<li>The valid choices of <code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::mul_type"><span class="pre">mul_type</span></a></code> are <a class="reference internal" href="../refined.html#_CPPv417S16_MUL_S8_TO_S16" title="S16_MUL_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_MUL_S8_TO_S16</span></code></a>, <a class="reference internal" href="../refined.html#_CPPv417U16_MUL_S8_TO_S16" title="U16_MUL_S8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_MUL_S8_TO_S16</span></code></a> and <a class="reference internal" href="../refined.html#_CPPv417U16_MUL_U8_TO_U16" title="U16_MUL_U8_TO_U16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">U16_MUL_U8_TO_U16</span></code></a>.
For some unexpected reasons, <a class="reference internal" href="../refined.html#_CPPv417S16_MUL_U8_TO_S16" title="S16_MUL_U8_TO_S16"><code class="xref cpp cpp-enumerator docutils literal notranslate"><span class="pre">S16_MUL_U8_TO_S16</span></code></a> is unsupported for BM1684.</li>
<li><code class="xref cpp cpp-expr docutils literal notranslate"><a class="reference internal" href="../refined.html#_CPPv441okk_bdc_fixed_point_packed_16bit_mul_8bit12local_addr_t12local_addr_t12local_addr_t12local_addr_tPK4dim4PK4dim4PK4dim4PK4dim4PK4dim410mul_type_ti" title="okk_bdc_fixed_point_packed_16bit_mul_8bit::rshift"><span class="pre">rshift</span></a></code> is in [0, 31].</li>
</ul>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2019, SOPHGO.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>